@model Cinema.Models.IndexViewModel<Cinema.Models.MovieVM>
@using Cinema.Helpers
@{
    ViewBag.Title = "Movies";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Movies</h2>

<div class="row">
    <div class="col-md-12">
        @foreach (var item in Model.Items)
        {
            <div class="movieItem">
                <a href="Movies/Info/@item.Id" class="img-responsive image">

                    <img src="@item.PosterURL" width="250" height="200" />
                    <div class="content">
                        <div class="bg"></div>
                        <div class="text">
                            <p>@item.Title</p>
                            <p>@item.Year.Year</p>
                        </div>
                    </div>
                </a>
                @if (Request.IsAuthenticated && ViewBag.UserId == item.UserId)
                {
                    @Html.ActionLink("Edit", "Edit", "Movies", new { id = item.Id }, new { Class = "btn btn-primary" });
                    @Html.ActionLink("Delete", "Delete", "Movies", new { id = item.Id }, new { Class = "btn btn-danger", onclick = "return confirm('Are you sure you wish to delete this article?');" });
                }
            </div>
        }
    </div>
    <div class="clear"></div>
    <div class="btn-group pagination">
        @Html.PageLinks(Model.PageInfo, x => Url.Action("Index", new { page = x }))
    </div>
</div>